<nav>
    <h1>
        <a href="{% url 'posts:feeds' %}">Pystagram</a>
    </h1>
    <p>세션 타임 아웃: <span id="timeout"></span> 초</p>

    <script>
       const timeoutDisplay = document.getElementById('timeout');

        function updateSessionTimeout() {
            fetch('https://goldmagnetsoft.com/users/session_timeout/')
                .then(response => response.json())
                .then(data => {
                    if (data.timeout >= 0) {
                        timeoutDisplay.textContent = Math.max(0, Math.floor(data.timeout));
                    } else {
                        timeoutDisplay.textContent = "Session not active.";
                    }
                })
                .catch(error => console.error('Error fetching session timeout:', error));
        }

        // 5초마다 세션 타임아웃 시간 업데이트
        setInterval(updateSessionTimeout, 5000);
    </script>

    <span>
        <a href="{% url 'posts:post_search' %}">
          <div class="image-container">
            <img class="hoverable header-icon" id="deletesubmitButton" src="/static/image/search_icon.png" alt="포스트 검색">
            <div class="tooltip">Search</div>
          </div>
        </a>
    </span>

    <span>
       <a href="{% url 'posts:post_add' %}">
          <div class="image-container">
            <img class="hoverable header-icon" id="deletesubmitButton" src="/static/image/post_add_icon.png"
                 alt="포스트 작성">
            <div class="tooltip">PostAdd</div>
          </div>
        </a>
    </span>

    <span>
        <a href="{% url 'users:profile' user_id=user.id %}">
          <div class="image-container">
            <img class="hoverable header-icon" id="deletesubmitButton" src="/static/image/person_mypage.png"
                 alt="My Page">
            <div class="tooltip">MyPage</div>
          </div>
        </a>
    </span>

    <span>
        <a href="{% url 'users:logout' %}">
          <div class="image-container">
            <img class="hoverable header-icon" id="deletesubmitButton" src="/static/image/logout_icon.png" alt="Logout">
            <div class="tooltip">Logout</div>
          </div>
        </a>
    </span>
</nav>